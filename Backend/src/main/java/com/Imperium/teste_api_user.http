@host = http://localhost:8080

###############################################################
### ETAPA 1: FAZER LOGIN (ADMIN/CEO)
###############################################################

# @name loginCEO
POST {{host}}/api/login
Content-Type: application/json

{
  "emailUsuario": "ceo@imperium.com",
  "senha": "Admin123*"
}

###
### SEPARADOR OBRIGATÓRIO (NÃO APAGUE)
###

###############################################################
### ETAPA 2: FAZER LOGIN (COLABORADOR)
### (Usaremos este token para criar a sugestão)
###############################################################

# @name loginColaborador
POST {{host}}/api/login
Content-Type: application/json

{
  "emailUsuario": "usuario.automatico@imperium.com",
  "senha": "SenhaForte123*"
}

###
### SEPARADOR OBRIGATÓRIO (NÃO APAGUE)
###

###############################################################
### ETAPA 3: CRIAR SUGESTÃO (COMO COLABORADOR)
###############################################################

# @name criarSugestao
POST {{host}}/api/sugestoes
# CORREÇÃO: Usando o token do COLABORADOR
Authorization: Bearer {{loginColaborador.response.body.token}}
Content-Type: application/json

{
  "titulo": "Melhorar máquina de café",
  "descricaoSugestao": "A máquina de café do segundo andar está fazendo um barulho estranho e o café está saindo fraco. Sugiro manutenção."
}


###
### SEPARADOR OBRIGATÓRIO (NÃO APAGUE)
###

###############################################################
### SEÇÃO ADMIN (SÓ PARA TESTE DO ADMINCONTROLLER)
###############################################################

### LISTAR TODOS OS USUÁRIOS (Como CEO)
GET {{host}}/api/admin/usuarios
Authorization: Bearer {{loginCEO.response.body.token}} 
Content-Type: application/json

### CONTAR O TOTAL DE USUÁRIOS (Como CEO)
GET {{host}}/api/admin/usuarios/contar
Authorization: Bearer {{loginCEO.response.body.token}}
Content-Type: application/json